---
title: Primary Key
parent: 執行與部署
nav_order: 3
---

# Primary Key
這段程式是 Liferay 自動產生（由 Service Builder 生成）的 ```aaa_bbbPersistenceImpl.java``` 裡的標準方法。

它對應的是你在 ```service.xml``` 裡定義的 ```<entity name="aaa_bbb" ...>```。

所以我們可以根據 ```service.xml``` 來知道它查的是哪張表，以及主鍵是哪個欄位。

<br>

---


<br>

## Service Builder 會生成三個主要類別：

| 類別 | 功能 |
| ---- | ---- |
| ItemLocalService <br> (介面) | 定義對外提供的 Service 方法，其他模組用這個介面呼叫。 |
| ItemLocalServiceBaseImpl <br> (抽象類別) | Service Builder 自動生成，實作一些基本 CRUD 方法和權限檢查，你通常不修改。 |
| ItemLocalServiceImpl | 你自己寫的實作類，繼承 BaseImpl，用來寫自定義邏輯。 |


## @Reference 注入的實際物件
```
@Reference
private ItemLocalService itemService;
```

- 注入的是 OSGi 註冊在容器裡的 ```ItemLocalService``` 實例。
- 背後實際物件 → 是 ```ItemLocalServiceImpl``` 的 OSGi Proxy。
    - 也就是說，你呼叫 ```itemService.method()```，實際上會被轉到你的 ```ItemLocalServiceImpl``` 實作。  
    - 這是 OSGi 的服務動態代理機制，讓你不用手動 new 或依賴具體類別。

